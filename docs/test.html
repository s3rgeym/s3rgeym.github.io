<!DOCTYPE html>
<ntml>
  <head>
    <title></title>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="xterm"></div>  
    <script type="module">
      import { Terminal } from 'https://cdn.jsdelivr.net/npm/xterm@5.3.0/+esm'
    	import { AttachAddon } from 'https://cdn.jsdelivr.net/npm/xterm-addon-attach@0.9.0/+esm'
      const terminal = new Terminal({
        // https://xtermjs.org/docs/api/terminal/interfaces/iterminaloptions/#optional-fontsize
        convertEol: true,
        fontFamily: "'JetBrains Mono', monospace",
        fontSize: 14,
        lineHeight: 1.24,
        cursorBlink: true,
        cursorStyle: 'underline',
        theme: {
          background: 'black',
        }
      })
      terminal.open(document.getElementById('xterm'))
      // TODO: использовать socat на сервере
      const attachAddon = new AttachAddon(new WebSocket(atob('d3NzOi8vYmF6YS5zdG9yZTo5MDgxL3dz')))
      terminal.loadAddon(attachAddon)
    </script>
  </body>
</ntml>
